(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function i(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=i(n);fetch(n.href,o)}})();const E=document.getElementById("hour_ent");for(let e=1;e<=12;e++){const t=document.createElement("option");t.value=e,t.textContent=e,E.appendChild(t)}const f=document.getElementById("hour_ext");for(let e=1;e<=12;e++){const t=document.createElement("option");t.value=e,t.textContent=e,f.appendChild(t)}const g=document.getElementById("lineDropdown_ent"),s=document.getElementById("stationDropdown_ent"),_=document.getElementById("lineDropdown_ext"),u=document.getElementById("stationDropdown_ext");g.addEventListener("change",function(){const e=this.value.toLowerCase();if(!e){s.innerHTML='<option value="">-- Select a station --</option>';return}const t=`stop_data/${e}_line_stops.csv`;fetch(t).then(i=>i.text()).then(i=>{const r=i.trim().split(`
`),o=r[0].split(",").indexOf("STATION_NAME");if(o===-1){console.error("STATION_NAME column not found");return}s.innerHTML='<option value="">-- Select a station --</option>',r.slice(1).forEach(l=>{const d=l.split(",")[o],c=document.createElement("option");c.value=d,c.textContent=d,s.appendChild(c)})}).catch(i=>{console.error("Error loading CSV:",i)})});_.addEventListener("change",function(){const e=this.value.toLowerCase();if(!e){u.innerHTML='<option value="">-- Select a station --</option>';return}const t=`stop_data/${e}_line_stops.csv`;fetch(t).then(i=>i.text()).then(i=>{const r=i.trim().split(`
`),o=r[0].split(",").indexOf("STATION_NAME");if(o===-1){console.error("STATION_NAME column not found");return}u.innerHTML='<option value="">-- Select a station --</option>',r.slice(1).forEach(l=>{const d=l.split(",")[o],c=document.createElement("option");c.value=d,c.textContent=d,u.appendChild(c)})}).catch(i=>{console.error("Error loading CSV:",i)})});const a=document.getElementById("submitBtn"),m=[document.getElementById("lineDropdown_ent"),document.getElementById("stationDropdown_ent"),document.getElementById("hour_ent"),document.getElementById("minute_ent"),document.getElementById("ampm_ent"),document.getElementById("lineDropdown_ext"),document.getElementById("stationDropdown_ext"),document.getElementById("hour_ext"),document.getElementById("minute_ext"),document.getElementById("ampm_ext")];function h(){const e=m.every(t=>t.value&&!t.value.includes("Select"));a.disabled=!e}m.forEach(e=>e.addEventListener("change",h));a.addEventListener("click",()=>{const e={entering:{line:document.getElementById("lineDropdown_ent").value,station:document.getElementById("stationDropdown_ent").value,time:`${document.getElementById("hour_ent").value}:${document.getElementById("minute_ent").value} ${document.getElementById("ampm_ent").value}`},exiting:{line:document.getElementById("lineDropdown_ext").value,station:document.getElementById("stationDropdown_ext").value,time:`${document.getElementById("hour_ext").value}:${document.getElementById("minute_ext").value} ${document.getElementById("ampm_ext").value}`}};console.log("Form submitted with data:",e)});
